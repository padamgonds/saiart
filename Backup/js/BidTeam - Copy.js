/*  Method Name - globalid
*  Created By - siddharam
*  Created On - 15 Jan 2016
*  Modified By - 
*  Modified On - 
*  Purpose - This variable is used to get textbox id of different field.      
*/

var globalid = "";
var globalid2 = "";


$('#lbBidManager').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtBidManager')
        $('#lbBidManager').attr('style', 'display:none');
});


$('#lbSolutionIntegrator').click(function (e) {
    e.stopPropagation();
});
$('html').click(function (e) {
    if (e.target.id != 'txtSolutionIntegrator')
        $('#lbSolutionIntegrator').attr('style', 'display:none');
});

$('#lbFinanceSPOC').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtFinanceSPOC')
        $('#lbFinanceSPOC').attr('style', 'display:none');
});

$('#lbLegalSPOC').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtLegalSPOC')
        $('#lbLegalSPOC').attr('style', 'display:none');
});

$('#lbSalesSPOC').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtSalesSPOC')
        $('#lbSalesSPOC').attr('style', 'display:none');
});

$('#lbDeliverySPOC').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtDeliverySPOC')
        $('#lbDeliverySPOC').attr('style', 'display:none');
});

$('#lbCDGSolutionSPOC').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtCDGSolutionSPOC')
        $('#lbCDGSolutionSPOC').attr('style', 'display:none');
});

$('#lbLDT_SPOC').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtLDT_SPOC')
        $('#lbLDT_SPOC').attr('style', 'display:none');
});

$('#lbCMC_SPOC').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtCMC_SPOC')
        $('#lbCMC_SPOC').attr('style', 'display:none');
});

$('#lbBidChampion').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtBidChampion')
        $('#lbBidChampion').attr('style', 'display:none');
});

$('#lbContractingCommando').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtContractingCommando')
        $('#lbContractingCommando').attr('style', 'display:none');
});

$('#lbBidGEOLead').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtBidGEOLead')
        $('#lbBidGEOLead').attr('style', 'display:none');
});

$('#lbSILead').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtSILead')
        $('#lbSILead').attr('style', 'display:none');
});

$('#lbFinanceReviewer').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtFinanceReviewer')
        $('#lbFinanceReviewer').attr('style', 'display:none');
});

$('#lbLegalReviewer').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtLegalReviewer')
        $('#lbLegalReviewer').attr('style', 'display:none');
});

$('#lbSalesHead').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtSalesHead')
        $('#lbSalesHead').attr('style', 'display:none');
});

$('#lbDeliveryReviewer').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtDeliveryReviewer')
        $('#lbDeliveryReviewer').attr('style', 'display:none');
});

$('#lbDAReviewer').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtDAReviewer')
        $('#lbDAReviewer').attr('style', 'display:none');
});

$('#lbSolutionLeads').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtSolutionLeads')
        $('#lbSolutionLeads').attr('style', 'display:none');
});

$('#lbLDTLead').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtLDTLead')
        $('#lbLDTLead').attr('style', 'display:none');
});

$('#lbCMCLead').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtCMCLead')
        $('#lbCMCLead').attr('style', 'display:none');
});

$('#lbQualityAuditor').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtQualityAuditor')
        $('#lbQualityAuditor').attr('style', 'display:none');
});

$('#lbBidQualityAccessor').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtBidQualityAccessor')
        $('#lbBidQualityAccessor').attr('style', 'display:none');
});

$('#lbOpportunityOwner').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'txtOpportunityOwner')
        $('#lbOpportunityOwner').attr('style', 'display:none');
});
//for cdg purpose//

$('#lbcdgcoreteam2_0').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext2_0')
        $('#lbcdgcoreteam2_0').attr('style', 'display:none');
});

$('#lbcdgcoreteam2_1').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext2_1')
        $('#lbcdgcoreteam2_1').attr('style', 'display:none');
});

$('#lbcdgcoreteam2_2').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext2_2')
        $('#lbcdgcoreteam2_2').attr('style', 'display:none');
});

$('#lbcdgcoreteam2_3').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext2_3')
        $('#lbcdgcoreteam2_3').attr('style', 'display:none');
});
$('#lbcdgcoreteam2_4').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext2_4')
        $('#lbcdgcoreteam2_4').attr('style', 'display:none');
});

$('#lbcdgreviewteam1_0').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext_0')
        $('#lbcdgreviewteam1_0').attr('style', 'display:none');
});


$('#lbcdgreviewteam1_1').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext_1')
        $('#lbcdgreviewteam1_1').attr('style', 'display:none');
});


$('#lbcdgreviewteam1_2').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext_2')
        $('#lbcdgreviewteam1_2').attr('style', 'display:none');
});


$('#lbcdgreviewteam1_3').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext_3')
        $('#lbcdgreviewteam1_3').attr('style', 'display:none');
});


$('#lbcdgreviewteam1_4').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext_4')
        $('#lbcdgreviewteam1_4').attr('style', 'display:none');
});


$('#lbcdgreviewteam1_5').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext_5')
        $('#lbcdgreviewteam1_5').attr('style', 'display:none');
});


$('#lbcdgreviewteam1_6').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext_6')
        $('#lbcdgreviewteam1_6').attr('style', 'display:none');
});


$('#lbcdgreviewteam1_7').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext_7')
        $('#lbcdgreviewteam1_7').attr('style', 'display:none');
});

//coreteam

$('#lbcdgcoreteam2_0').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext2_0')
        $('#lbcdgcoreteam2_0').attr('style', 'display:none');
});

$('#lbcdgcoreteam2_1').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext2_1')
        $('#lbcdgcoreteam2_1').attr('style', 'display:none');
});

$('#lbcdgcoreteam2_2').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext2_2')
        $('#lbcdgcoreteam2_2').attr('style', 'display:none');
});

$('#lbcdgcoreteam2_3').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext2_3')
        $('#lbcdgcoreteam2_3').attr('style', 'display:none');
});
$('#lbcdgcoreteam2_4').click(function (e) {
    e.stopPropagation();
});

$('html').click(function (e) {
    if (e.target.id != 'dynamictext2_4')
        $('#lbcdgcoreteam2_4').attr('style', 'display:none');
});

/*  Method Name - function keyUP
*  Created By - siddharam 
*  Created On - 15 Jan 2016
*  Modified By - 
*  Modified On - 
*  Purpose - This function is used to get ajax call to the BidTeamSearchPeople.aspx page & listbox is used to get all listbox id purpose.    
*/
function keyUP(ele, listbox) {
    var id = $(ele).attr("id");
    globalid = id;
    var bidmanager = $('#' + id).val();
    $.ajax({
        url: "../BidTeamAjaxCall.aspx",
        type: "POST",
        data: { Val: bidmanager },
        success: function (response) {
            if (response != 'fail') {
                var data = $.parseJSON(response);
                $('#' + listbox).html('');
                //class1 is defined for the alternate color for the listbox purpose.

                var class1 = '';
                for (var i = 0; i < data.length; i++) {

                    if (i % 2 == 0) {
                        class1 = "gray";
                    }
                    else {
                        class1 = "light";
                    }
                    $('#' + listbox).append('<li class="inner-li ' + class1 + '" style="height: 105px;cursor:pointer;" id="' + data[i].EMPNAME + '" onclick="getempid(this,' + data[i].EMPLOYEE_ID + ');">' + data[i].EMPNAME + " (" + data[i].EMPLOYEE_ID + ")" + '</br>' + data[i].EMAILID + '</li>');
                    $('#' + listbox).attr('style', 'background-color: #f8fcee;');
                }
            }
        }
    });
}

//This keyup event used for cdg-list purpose which is from bid details page.
function keyUP2(ele, listbox) {
    var id = $(ele).attr("id");
    globalid = id;
    var id2 = $(listbox).attr("id");
    listbox = id2;
    var bidmanager = $('#' + id).val();

    $.ajax({
        url: "../BidTeamAjaxCall.aspx",
        type: "POST",
        data: { Val: bidmanager },
        success: function (response) {
            if (response != 'fail') {
                var data = $.parseJSON(response);
                $('#' + listbox).html('');
                //class1 is defined for the alternate color for the listbox purpose.

                var class1 = '';
                for (var i = 0; i < data.length; i++) {

                    if (i % 2 == 0) {
                        class1 = "gray";
                    }
                    else {
                        class1 = "light";
                    }
                    $('#' + listbox).append('<li class="inner-li ' + class1 + '" style="height: 105px;cursor:pointer;" id="' + data[i].EMPNAME + '" onclick="getempid2(this,' + data[i].EMPLOYEE_ID + ');">' + data[i].EMPNAME + " (" + data[i].EMPLOYEE_ID + ")" + '</br>' + data[i].EMAILID + '</li>');
                    $('#' + listbox).attr('style', 'background-color: #f8fcee;');
                }
            }
        }
    });
}


//- This function is used for onclick event of the list box to get EMPLOYEE_ID & text box ID purpose. 

function getempid(val, uid) {
    var id = $(val).attr("id")

    document.getElementById(globalid).value = id;
    document.getElementById(globalid + "_hdn").value = uid;

}

function getempid2(val, uid) {
    var id = $(val).attr("id")

    document.getElementById(globalid).value = id;
    document.getElementById("hdn_" + globalid).value = uid;
}

//get cdg values in variable & that split and append the data.
$(window).load(function () {
    var data = document.getElementById('ctl00_ContentPlaceHolder1_hiddendata').value;

    if (data.length > 0) {

        var spltstr = data.split(',');

        for (var i = 0; i < spltstr.length; i++) {
            var spltstr1 = spltstr[i];
            var spltstr2 = spltstr1.split("@@");
            var div = $("<div class='dataa' />");
            div.html(adddiv(spltstr2[1], i));

            $("#dynamicinfo").append(div);
        }
    }

    if (data.length > 0) {
        var spltstr = data.split(',');

        for (var i = 0; i < spltstr.length; i++) {
            var spltstr1 = spltstr[i];
            var spltstr2 = spltstr1.split("@@");

            var div = $("<div class='dataaa' />");
            div.html(adddiv2(spltstr2[1], i, spltstr2[0]));

            $("#dynamicinfo_1").append(div);
            //$("#dynamicinfo_1").append('<input class="hdn1" type="hidden" id="lable_' + spltstr2[0] + ' value=' + spltstr2[0] + '"/>'); 
        }
    }
});

function adddiv(label, i) {
    var id = 'lbcdgreviewteam1_' + i;
    //alert(id);
    return '<div class="form-group">' +
            ' <label class="col-sm-4 control-label userlabel" id="lbl" Text="Bid" name="lbl">' + label + '</label>' +
            ' <div class="col-sm-6">' +
            '<input type="text" name="txtbx" id="dynamictext_' + i + '" class="form-control" onkeyup="keyUP2(this,' + id + ')"/>' +
            ' <input type="hidden" id="hdn_dynamictext_' + i + '"/>' +
    // ' ' +s
            ' <ul id="' + id + '" style="display: none; background-color: #f8fcee; list-style-type: none" class="serch-li"> </ul>' +
            '</div>' +
            ' <div class="col-sm-1 checkbox  chb-padding"><input type="checkbox" name="chkbx"></input> </div>' +
            '</div>';
}

function adddiv2(label, i) {

    var id = 'lbcdgcoreteam2_' + i;
    //alert(id);
    return '<div class="form-group">' +
            ' <label class="col-sm-4 control-label userlabel" id="lbl" Text="Bid " name="labl">' + label + '</label>' +
            ' <div class="col-sm-6">' +
            '<input type="text" name="txtbx" id="dynamictext2_' + i + '" class="form-control" onkeyup="keyUP2(this,' + id + ')"/>' +
            ' <input class="hdn" type="hidden" id="hdn_dynamictext2_' + i + '"/>' +
    //            ' <input class="hdn2" type="hidden" id="hidden2_"/>' +
            ' <ul id="' + id + '" style="display: none; background-color: #f8fcee; list-style-type: none" class="serch-li"> </ul>' +
            '</div>' +
            ' <div class="col-sm-1 checkbox  chb-padding"><input type="checkbox" name="chkbx"></input> </div>' +
            '</div>';

}